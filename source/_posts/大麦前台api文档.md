---
title: 大麦前台api文档
date: 2019-03-11 23:11:17
tags: [api文档]
---
#   大麦前台系统接口文档

***
### 0. 全局返回结果说明
**接口描述**：全局返回结果   
**全局请求方式**： POST    
**返回格式**：（请求成功）：
```json
{
  "status":true,  // 以此为依据判断请求是否成功
  "msg":"",       // 请求成功msg无返回值
  "data":[]       // 部分接口返回数组格式数据
}
```
**返回格式**：（请求失败）：
```json
{
  "status":false,    // 以此为依据判断请求是否成功
  "msg":"失败原因",   // 请求失败原因
  "data":[]          // 请求失败无data返回值
}
```
### 1. 检验提货码
**接口地址**：/code/pick_up    
**接口描述**：用户输入提货码提交验证接口    
**参数校验**：8位纯数字   
**详细说明**：根据返回结果，exist判断是否绑定订单，send_status是否发货，express_no快递单号，已绑定订单收件人信息为不允许修改状态，已发货订单直接跳转到物流页面，待发货订单跳转到提示页面，提示已提交我们会尽快发货     
**请求格式**：
```json
{
  "code":"23232323",       // 提货码
}

```
**成功返回**：
```json
{
	"status": true,
	"data": {
		"exist": true,                                        // 是否绑定订单
		"info": {
			"order_id": "19",                                   // 订单id
			"classification_id": "1",                           // 一级类目id
			"name": "王永喜",                                    // 收件人姓名
			"phone": "13776830282",                             // 收件人电话
			"detail": "江苏常州市天宁区城区鼎邦花园25幢1201",      // 收件人地址
			"num": "2",                                         // 订单包含商品数量
			"send_status": "1",                                 // 是否发货0未发货1已发货2待发货
			"express_no": "3937303647484"                       // 快递单号
		}
	},
	"msg": "请求成功"
}
```
### 2. 获取商品联动信息
**接口地址**：/code/get_sons_info
**接口描述**：根据上一步返回一级类目id获取二级类目信息，根据用户选择二级类目返回商品信息   
**参数校验**：无    
**请求格式**：
```json
{
    "type":"first",       // 类目种类
    "id":"1",             // 类目id
}
```
**成功返回数据**：("type = first",返回二级类目数据)
```json
{
	"status": true,
	"data": {
		"info": [{
			"id": "2",         // 类目id
			"title": "iphonex" // 类目名称
		}]
	},
	"msg": "请求成功"
}
```
**成功返回数据**：("type = second",返回商品数据)
```json
{
	"status": true,
	"data": {
		"info": [{
			"id": "1",             // 商品id
			"title": "手机保护壳",  // 商品名称
			"remark": "新款"       // 商品备注
		}]
	},
	"msg": "请求成功"
}
```

### 3. 提交订单
**接口地址**：/code/finish_order   
**接口描述**：用户完善订单请求地址   
**参数校验**：所有参数不能为空，如果提货码绑定了订单则不提交收货地址信息,未绑定订单时商品只允许提交一件    
**请求格式**：(提货码绑定了订单)
```json
{
  "code":"23232323",
  "order_id":"1",           // 订单id
  "goods":[
    {
      "good_id":"1"
    },{
      "good_id":"2"
    }],
}
```
**请求格式**：(提货码未绑定订单)
```json
{
  "code":"23232323",                            // 提货码
  "goods":[     
    {   
      "good_id":"1"                             // 商品id
    }],
  "name":"张三",                                // 收件人姓名
  "phone":"13323232323",                        // 收件人电话
  "detail":"江苏常州市天宁区城区鼎邦花园25幢1201"  // 收件人地址
}
```

### 4.获取物流信息(待完善)
**接口地址**：/code/express  
**接口描述**：获取物流信息请求地址   
**参数校验**：参数不能为空    
**请求格式**：
```json
{
  "code":"23232323",              // 提货码
  "express_no":"3937303647484"    // 快递单号
}
```
